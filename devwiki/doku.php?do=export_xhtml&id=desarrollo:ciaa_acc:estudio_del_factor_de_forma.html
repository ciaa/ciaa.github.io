<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>desarrollo:ciaa_acc:estudio_del_factor_de_forma</title>
<meta name="generator" content="DokuWiki"/>
<meta name="theme-color" content="#008800"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="desarrollo,ciaa_acc,estudio_del_factor_de_forma"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title=""/>
<link rel="start" href="index.html"/>
<link rel="contents" href="./doku.php%3Fid=desarrollo:ciaa_acc:estudio_del_factor_de_forma&amp;do=index.html" title="Índice"/>
<link rel="manifest" href="lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Cambios recientes" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Espacio de nombres actual" href="./feed.php%3Fmode=list&amp;ns=desarrollo:ciaa_acc"/>
<link rel="alternate" type="text/html" title="HTML sencillo" href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:ciaa_acc:estudio_del_factor_de_forma.html"/>
<link rel="alternate" type="text/plain" title="Etiquetado Wiki" href="./doku.php%3Fdo=export_raw&amp;id=desarrollo:ciaa_acc:estudio_del_factor_de_forma"/>
<link rel="canonical" href="./doku.php%3Fid=desarrollo:ciaa_acc:estudio_del_factor_de_forma.html"/>
<link rel="stylesheet" href="lib/exe/css.php%3Ft=dokuwiki&amp;tseed=48a4f103b3dd9c0f0740691fb104868a.css"/>
<!--[if gte IE 9]><!-->
<script >/*<![CDATA[*/var NS='desarrollo:ciaa_acc';var JSINFO = {"id":"desarrollo:ciaa_acc:estudio_del_factor_de_forma","namespace":"desarrollo:ciaa_acc","ACT":"export_xhtml","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script src="lib/exe/jquery.php%3Ftseed=34a552433bc33cc9c3bc32527289a0b2"></script>
<script src="lib/exe/js.php%3Ft=dokuwiki&amp;tseed=48a4f103b3dd9c0f0740691fb104868a"></script>
<!--<![endif]-->
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Tabla de Contenidos</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:ciaa_acc:estudio_del_factor_de_forma.html#factor_de_forma">Factor de forma</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:ciaa_acc:estudio_del_factor_de_forma.html#placa_unica_o_sbc_single_board_computer">Placa única o SBC (Single Board Computer)</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:ciaa_acc:estudio_del_factor_de_forma.html#formato_som_carrier">Formato SoM + Carrier</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:ciaa_acc:estudio_del_factor_de_forma.html#formato_pcie-104">Formato PCIe-104</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:ciaa_acc:estudio_del_factor_de_forma.html#seleccion_final_del_factor_de_forma">Selección final del factor de forma</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="factor_de_forma">Factor de forma</h1>
<div class="level1">

<p>
Las opciones para el factor de forma son diversas y cada una presenta sus ventajas y desventajas en lo que respecta a: modularidad, flexibilidad, posibilidad de expansión, posibilidad de integración con otros productos comerciales, etc.
A continuación se listan las principales opciones analizadas.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Factor de forma&quot;,&quot;hid&quot;:&quot;factor_de_forma&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-334&quot;} -->
<h2 class="sectionedit2" id="placa_unica_o_sbc_single_board_computer">Placa única o SBC (Single Board Computer)</h2>
<div class="level2">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Placa \u00fanica o SBC (Single Board Computer)&quot;,&quot;hid&quot;:&quot;placa_unica_o_sbc_single_board_computer&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;335-390&quot;} -->
<h3 class="sectionedit3" id="ventajas">Ventajas</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Diseño simple y más rápido.</div>
</li>
<li class="level1"><div class="li"> Diseño a medida, sin la necesidad de ajustarse a ninguna normativa ni factor de forma.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Ventajas&quot;,&quot;hid&quot;:&quot;ventajas&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;391-536&quot;} -->
<h3 class="sectionedit4" id="desventajas">Desventajas</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> No es expandible ni modular.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Desventajas&quot;,&quot;hid&quot;:&quot;desventajas&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;537-593&quot;} -->
<h2 class="sectionedit5" id="formato_som_carrier">Formato SoM + Carrier</h2>
<div class="level2">

<p>
Existen numerosas posibilidades, entre ellas:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://www.edm-standard.org" class="urlextern" target="_blank" title="http://www.edm-standard.org" rel="ugc nofollow noopener"> Estándar EDM</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.sget.org/standards.html" class="urlextern" target="_blank" title="http://www.sget.org/standards.html" rel="ugc nofollow noopener"> Estándar Qseven</a></div>
</li>
<li class="level1"><div class="li"> <a href="http://www.sget.org/standards.html" class="urlextern" target="_blank" title="http://www.sget.org/standards.html" rel="ugc nofollow noopener"> Estándar SMARC</a></div>
</li>
<li class="level1"><div class="li"> SoM + Carrier con factor de forma, conector y distribución de pines a medida</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Formato SoM + Carrier&quot;,&quot;hid&quot;:&quot;formato_som_carrier&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;594-932&quot;} -->
<h3 class="sectionedit6" id="ventajas1">Ventajas</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Diseño modular, puede diseñarse un SoM para diferentes carriers según la necesidad del usuario y también pueden diseñarse diferentes SoMs en distintas etapas y reutilizar los diseños de las carriers.</div>
</li>
<li class="level1"><div class="li"> En caso de utilizar alguno de los estándares como Qseven o SMARC, puede separarse el diseño en etapas y utilizar SoMs o Carriers comerciales para las etapas de desarrollo (o para la implementación definitiva, según lo que necesite el usuario). </div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Ventajas&quot;,&quot;hid&quot;:&quot;ventajas1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;933-1414&quot;} -->
<h3 class="sectionedit7" id="desventajas1">Desventajas</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> No es expandible (aunque sí lo sería en caso de diseñar una carrier con posibilidad de conectar 2, 3 ó 4 SoMs, lo cual no es habitual en el mercado, pero es una posibilidad para nosotros).</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Desventajas&quot;,&quot;hid&quot;:&quot;desventajas1&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;1415-1634&quot;} -->
<h2 class="sectionedit8" id="formato_pcie-104">Formato PCIe-104</h2>
<div class="level2">

<p>
Es un estándar para sistemas embebidos que define el factor de forma y los buses y conectores a utilizar.
</p>

<p>
<a href="http://pc104.org/hardware-specifications/pcie104/" class="urlextern" target="_blank" title="http://pc104.org/hardware-specifications/pcie104/" rel="ugc nofollow noopener"> PCIe-104</a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Formato PCIe-104&quot;,&quot;hid&quot;:&quot;formato_pcie-104&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:8,&quot;range&quot;:&quot;1635-1838&quot;} -->
<h3 class="sectionedit9" id="ventajas2">Ventajas</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Diseño modular y expandible. </div>
</li>
<li class="level1"><div class="li"> Pueden stackearse otras placas comerciales con el diseño propio (fuentes, periféricos, etc.)</div>
</li>
<li class="level1"><div class="li"> Puede obtenerse un procesamiento múltiple realmente apropiado para High Performance Computing si se conectan por ejemplo un Host + 4 Devices.</div>
</li>
<li class="level1"><div class="li"> Puede diseñarse solamente el Device y adquirir un Host comercial (o a la inversa).</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Ventajas&quot;,&quot;hid&quot;:&quot;ventajas2&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:9,&quot;range&quot;:&quot;1839-2226&quot;} -->
<h3 class="sectionedit10" id="desventajas2">Desventajas</h3>
<div class="level3">
<ul>
<li class="level1"><div class="li"> Si se quiere compatibilidad con los productos comerciales hay que estudiar y respetar hasta el último detalle del estándar.</div>
</li>
<li class="level1"><div class="li"> Al utilizar PCIe como mecanismo de interconexión entre los procesadores de las diferentes placas, no queda otra opción que lidiar con las dificultades de esta tecnología (más que nada en el caso de diseñar un Device con Zynq donde se contará con el IP core de PCIe “cerrado”).</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Desventajas&quot;,&quot;hid&quot;:&quot;desventajas2&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:10,&quot;range&quot;:&quot;2227-2666&quot;} -->
<h2 class="sectionedit11" id="seleccion_final_del_factor_de_forma">Selección final del factor de forma</h2>
<div class="level2">

<p>
Para la selección del factor de forma se tuvieron en cuenta las opiniones de los desarrolladores de las listas CIAA-Hardware y CIAA-Firmware. Se dieron discusiones muy enriquecedoras ya que las opciones que se consideraron son variadas y muy diferentes entre sí.
</p>

<p>
Los factores que se consideraron como más relevantes son:
</p>
<ul>
<li class="level1"><div class="li"> Modularidad y escalabilidad para interconectar varias placas entre sí.</div>
</li>
<li class="level1"><div class="li"> Performance.</div>
</li>
<li class="level1"><div class="li"> Conectividad con la CIAA-Safety.</div>
</li>
<li class="level1"><div class="li"> Estandarización. Se ponderaron los diseños estándar vs. otros diseños más innovadores como la carrier para 4 SoMs.</div>
</li>
<li class="level1"><div class="li"> Fácil interconexión con otros productos comerciales. Por ejemplo, fuentes de alimentación, placas con periféricos, placas con procesadores, etc.</div>
</li>
</ul>

<p>
Los siguientes factores NO se consideraron como decisivos:
</p>
<ul>
<li class="level1"><div class="li"> Costo.</div>
</li>
<li class="level1"><div class="li"> Tiempo de desarrollo.</div>
</li>
<li class="level1"><div class="li"> Complejidad del desarrollo (riesgo).</div>
</li>
</ul>

<p>
Al considerarse el factor escalabilidad como muy importante para una aplicación de Alta Capacidad de Cómputo, quedan descartadas las opciones de Placa Única y SoM + Carrier. Para poder interconectar varios procesadores en paralelo, es necesario un estándar como el de la familia PC-104, donde es posible tener un Host y varios Devices. Adicionalmente, esta opción aporta estandarización y la posibilidad de interconexión con productos comerciales. 
</p>

<p>
Se analizaron los estándares de la <strong>familia PC-104</strong> debido a que el equipo de la CIAA-Safety ya estaba analizando este factor de forma. Dentro de este grupo de estándares se seleccionó a <strong>PCIe-104</strong> por ser el más moderno y el más adecuado para el hardware seleccionado por sus interfaces de alta velocidad.
</p>

<p>
Se podría haber seleccionado el estándar PCI-104 Express (versión anterior del PCIe-104), para poder conectar la CIAA-ACC con la CIAA-Safety, pero al tener esta última una disposición propietaria de señales en el conector PCI (USB, ETH,SPI, etc.), fue desestimada la idea ya que se quiere hacer un producto que cumpla estrictamente con la especificación. De todos modos, podrán conectarse ambas placas utilizando una fuente de alimentación PC104 que tenga ambos conectores (PCI y PCIe), por ejemplo <a href="http://www.rtd.com/PC104/UM/power/atx104Express.htm" class="urlextern" target="_blank" title="http://www.rtd.com/PC104/UM/power/atx104Express.htm" rel="ugc nofollow noopener">Fuente PCI-104 Express</a>. En este caso, la comunicación se tendrá que realizar con un cable externo utilizando alguna de las interfaces (SPI, Ethernet, USB, etc).
</p>

<p>
Otra opción que se consideró fue la de usar el estándar PCIe-104 pero incorporando el concepto de SoM, es decir, diseñando dos placas: un SoM con el procesador Zynq y las memorias, y una carrier con formato PC-104 con los periféricos. Por supuesto que esta opción es más versátil todavía, pero conlleva un esfuerzo adicional que es diseñar dos PCBs multicapa en vez de uno (la carrier no puede diseñarse en dos capas por las exigencias de los periféricos). Aunque el tiempo de desarrollo no es uno de los factores decisivos para el proyecto, en este caso sí lo fue y por eso se descartó la opción PCIe-104 con SoM. 
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Selecci\u00f3n final del factor de forma&quot;,&quot;hid&quot;:&quot;seleccion_final_del_factor_de_forma&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:11,&quot;range&quot;:&quot;2667-5721&quot;} -->
<h3 class="sectionedit12" id="ventajas_de_pcie-104">Ventajas de PCIe-104</h3>
<div class="level3">

<p>
La selección de este factor de forma permite utilizar la placa de diferentes maneras. Si se diseña la CIAA para que pueda funcionar en forma independiente, con una entrada de alimentación propia, las posibilidades se amplían. Además, optando por diseñar un Device PCIe-104 en vez de un Host existe la posibilidad de interconectar varias CIAAs entre sí por PCIe. Para esto último será necesario un Host PCIe-104 que en un principio tendremos que comprar, pero que más adelante podrá ser diseñado por la comunidad CIAA. Es importante remarcar que el diseño será un Device porque los puertos PCIe, USB y SATA irán shifteados, NO será un Host.
</p>

<p>
<img src="lib/exe/fetch.php%3Fw=300&amp;tok=696afc&amp;media=desarrollo:ciaa_acc:ciaa_acc_stack.png" class="mediacenter" loading="lazy" alt="" width="300" />
</p>

<p>
Entonces las opciones de uso de la CIAA-ACC serán:
</p>
<ul>
<li class="level1"><div class="li"> Stand alone: Utilizar la CIAA-ACC sola, sin conectar nada en el bus PCIe (tendrá su propio jack de power, RJ45 para Gb Ethernet, MicroUSB OTG, HDMI, etc).</div>
</li>
<li class="level1"><div class="li"> Varias placas iguales: Conectar varias CIAA-ACC entre sí compartiendo la alimentación por el bus PCIe-104 pero realizando la conexión de datos a través de Gbit Ethernet usando un switch externo.</div>
</li>
<li class="level1"><div class="li"> Un host PCIe-104 y hasta 4 CIAA-ACC: El conector Onebank del bus PCIe/104 prevee 4 links PCIe de 1x independientes. Cada una de las CIAA-ACC puede comunicarse con el host mediante uno de estos links. Esta configuración se lograría poniendo el host abajo de todo (placa basada en ARM, INTEL, etc.) y arriba las sucesivas CIAA-ACC. </div>
</li>
<li class="level1"><div class="li"> CIAA-ACC conectada a una CIAA-Safety: Conectar la CIAA-ACC con la CIAA-Safety usando una fuente PCI-104 Express.  La conexión de datos se haría por SPI mediante un conector adicional, ya que es un bus que no genera ningún overhead (a diferencia de USB o Ethernet).</div>
</li>
<li class="level1"><div class="li"> Conectar a la CIAA-ACC cualquier placa comercial que cumpla con la especificación PCIe-104.</div>
</li>
<li class="level1"><div class="li"> Uso de la CIAA-ACC aprovechando las interfaces de alta velocidad del FPGA: En la CIAA-ACC estaría provisto un conector FMC-LPC/HPC en uno de los laterales. Esto permitiría agregar una placa adicional para adquisición de datos o la función que se desee (en la imagen es la placa con los dos conectores SMA). Esta opción se podría utilizar en cualquiera de las configuraciones mencionadas anteriormente, ya que no interferiría en el stack. </div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Ventajas de PCIe-104&quot;,&quot;hid&quot;:&quot;ventajas_de_pcie-104&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:12,&quot;range&quot;:&quot;5722-&quot;} --></div>
</body>
</html>
