<!DOCTYPE html>
<html lang="es" dir="ltr">
<head>
  <meta charset="utf-8" />
  <title>desarrollo:hardware:interfaces_comunes:salida_analogica</title>
<meta name="generator" content="DokuWiki"/>
<meta name="theme-color" content="#008800"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="desarrollo,hardware,interfaces_comunes,salida_analogica"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title=""/>
<link rel="start" href="index.html"/>
<link rel="contents" href="./doku.php%3Fid=desarrollo:hardware:interfaces_comunes:salida_analogica&amp;do=index.html" title="Índice"/>
<link rel="manifest" href="lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Cambios recientes" href="feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Espacio de nombres actual" href="./feed.php%3Fmode=list&amp;ns=desarrollo:hardware:interfaces_comunes"/>
<link rel="alternate" type="text/html" title="HTML sencillo" href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html"/>
<link rel="alternate" type="text/plain" title="Etiquetado Wiki" href="./doku.php%3Fdo=export_raw&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica"/>
<link rel="canonical" href="./doku.php%3Fid=desarrollo:hardware:interfaces_comunes:salida_analogica.html"/>
<link rel="stylesheet" href="lib/exe/css.php%3Ft=dokuwiki&amp;tseed=48a4f103b3dd9c0f0740691fb104868a.css"/>
<!--[if gte IE 9]><!-->
<script >/*<![CDATA[*/var NS='desarrollo:hardware:interfaces_comunes';var JSINFO = {"id":"desarrollo:hardware:interfaces_comunes:salida_analogica","namespace":"desarrollo:hardware:interfaces_comunes","ACT":"export_xhtml","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script src="lib/exe/jquery.php%3Ftseed=34a552433bc33cc9c3bc32527289a0b2"></script>
<script src="lib/exe/js.php%3Ft=dokuwiki&amp;tseed=48a4f103b3dd9c0f0740691fb104868a"></script>
<!--<![endif]-->
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Tabla de Contenidos</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html#salida_analogica">Salida Analógica</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html#esquematico">Esquemático</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html#caracteristicas">Características</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html#descripcion">Descripción</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html#simulacion">Simulación</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html#bibliografia">Bibliografía</a></div></li>
<li class="level2"><div class="li"><a href="./doku.php%3Fdo=export_xhtml&amp;id=desarrollo:hardware:interfaces_comunes:salida_analogica.html#especificacion_de_los_componentes">Especificación de los componentes</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="salida_analogica">Salida Analógica</h1>
<div class="level1">

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Salida Anal\u00f3gica&quot;,&quot;hid&quot;:&quot;salida_analogica&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:1,&quot;range&quot;:&quot;1-32&quot;} -->
<h2 class="sectionedit2" id="esquematico">Esquemático</h2>
<div class="level2">

<p>
<a href="lib/exe/detail.php%3Fid=desarrollo:hardware:interfaces_comunes:salida_analogica&amp;media=desarrollo:hardware:interfaces_comunes:salidaanalogica.png.html" class="media" title="desarrollo:hardware:interfaces_comunes:salidaanalogica.png"><img src="lib/exe/fetch.php%3Fmedia=desarrollo:hardware:interfaces_comunes:salidaanalogica.png" class="mediaright" loading="lazy" alt="" /></a>
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Esquem\u00e1tico&quot;,&quot;hid&quot;:&quot;esquematico&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:2,&quot;range&quot;:&quot;33-83&quot;} -->
<h2 class="sectionedit3" id="caracteristicas">Características</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> 1 Salida analógica configurable como Corriente/Tensión.</div>
</li>
<li class="level1"><div class="li"> Salida de tensión 0-10V (extendido a 10,5V) con impedancia de carga mínima de 3KOhm.</div>
</li>
<li class="level1"><div class="li"> Transmisor Activo para Lazo de corriente 4-20mA (con rango extendido 0-22mA), impedancia máx 1KOhm.</div>
</li>
<li class="level1"><div class="li"> Protección contra cortocircuito para salida de tensión.</div>
</li>
<li class="level1"><div class="li"> Protección por diodos de enclavamiento</div>
</li>
<li class="level1"><div class="li"> Optimizado para aprovechar el rango del DAC (10 Bits, 400 kSamples/s)</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Caracter\u00edsticas&quot;,&quot;hid&quot;:&quot;caracteristicas&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:3,&quot;range&quot;:&quot;84-551&quot;} -->
<h2 class="sectionedit4" id="descripcion">Descripción</h2>
<div class="level2">

<p>
Debido a la necesidad de tener al menos una salida analógica paa ser utilizado en la industria y en aplicaciones de electrónica en general, la CIAA ha incorporado 1 salida analógicas configurable. Esta tiene la capacidad de poder funcionar como lazo de corriente activo (4-20mA, y provee alimentación) o en tensión (0-10V) mediante la selección por medio de un jumper. Esta versatilidad conviente a la salida analógica de la CIAA en uno de sus fuertes para los procesos de automatización.
El circuito ha sido diseñado con una primer etapa no inversora con ganancia un poco mayor a 3, incorporando dentro del lazo de realimentación un transistor con hFE grande y una R107 = 2K2 para limitar la corriente de corto circuito en modo tensión. De esta manera, en modo tensión la salida limita su corriente de corto circuito a unos 10mA, y puede estar cargado con una R tan baja como 3Kohm (incluso un poco menor). En el modo de lazo de corriente, es necesario el transistor con hFE grande para minimizar la diferencia entre Ic e Ie, de manera tal que la corriente por R82 sea prácticamente igual a R105, actuando de esta manera como un amplificador de trasconductancia para la tensión proveniente del DAC. Por último, esta corriente sobre R105 provoca una caida de tension que excita una nueva fuente de trasconductancia en el rail superior, permitiendo trabajar como transmisor activo de lazo de corriente (no necesita fuente externa). En este caso se utiliza un transistor con una capacidad de disipar potencia mayor, dado que ante una RL pequeña deberá disipar cerca de 0,5W. Como un detalle, se han polarizado 2 diodos en serie para generar un offset del rail superior, de manera tal que el último amplficador operacional tenga siempre sus entradas lejos del limite dado por la tensión de alimentación.
Se han utilizado resistencias con muy baja tolerancia (0.1%) y poca variación con la temperatura (25ppm) en aquellas que determinan las ganancias de tensión o de transconductancia, logrando obtener una incertidumbre pequeña en las respectivas salidas.
En la salida se han colocado diodos de enclavamiento BAV199 que poseen muy baja corriente inversa para no alterar la salida del amplificador operacional. Respecto a este último, dada la baja ganancia que poseen las configuraciones y que no tienen necesidad de trabajar en el extremo de tensión superior por lo ya mencionado, la elección amplificador operacional no es crítico en este circuito.
</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Descripci\u00f3n&quot;,&quot;hid&quot;:&quot;descripcion&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:4,&quot;range&quot;:&quot;552-3051&quot;} -->
<h2 class="sectionedit5" id="simulacion">Simulación</h2>
<div class="level2">

<p>
Se ha utilizado el <a href="http://ltspice.linear-tech.com/software/LTspiceIV.exe" class="urlextern" target="_blank" title="http://ltspice.linear-tech.com/software/LTspiceIV.exe" rel="ugc nofollow noopener">LTspice</a>, que es un simulador de la empresa Linear Technology de distribución libre
<a href="lib/exe/detail.php%3Fid=desarrollo:hardware:interfaces_comunes:salida_analogica&amp;media=desarrollo:hardware:interfaces_comunes:simulacion_v_lt_spice_rl_10k.png.html" class="media" title="desarrollo:hardware:interfaces_comunes:simulacion_v_lt_spice_rl_10k.png"><img src="lib/exe/fetch.php%3Fmedia=desarrollo:hardware:interfaces_comunes:simulacion_v_lt_spice_rl_10k.png" class="media" loading="lazy" title="Ver simulación para tensión." alt="Ver simulación para tensión." /></a><br/>

<a href="lib/exe/detail.php%3Fid=desarrollo:hardware:interfaces_comunes:salida_analogica&amp;media=desarrollo:hardware:interfaces_comunes:simulacion_i_lt_spice_rl_250.png.html" class="media" title="desarrollo:hardware:interfaces_comunes:simulacion_i_lt_spice_rl_250.png"><img src="lib/exe/fetch.php%3Fmedia=desarrollo:hardware:interfaces_comunes:simulacion_i_lt_spice_rl_250.png" class="media" loading="lazy" title="Ver simulación para corriente." alt="Ver simulación para corriente." /></a><br/>

<a href="lib/exe/fetch.php%3Fmedia=desarrollo:hardware:interfaces_comunes:lt_spice_dac.zip" class="media mediafile mf_zip" title="desarrollo:hardware:interfaces_comunes:lt_spice_dac.zip (7.5 KB)">Descargar proyecto para LTSpice.</a><br/>

</p>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Simulaci\u00f3n&quot;,&quot;hid&quot;:&quot;simulacion&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:5,&quot;range&quot;:&quot;3052-3434&quot;} -->
<h2 class="sectionedit6" id="bibliografia">Bibliografía</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> <a href="https://en.wikipedia.org/wiki/Current_loop‎" class="interwiki iw_wp" target="_blank" title="https://en.wikipedia.org/wiki/Current_loop‎" rel="noopener">Wikipedia, Current Loop 4-20 mA</a></div>
</li>
<li class="level1"><div class="li"> <a href="https://en.wikipedia.org/wiki/0-10_V_lighting_control" class="interwiki iw_wp" target="_blank" title="https://en.wikipedia.org/wiki/0-10_V_lighting_control" rel="noopener">Wikipedia, Lighting Control 0-10V</a></div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Bibliograf\u00eda&quot;,&quot;hid&quot;:&quot;bibliografia&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:6,&quot;range&quot;:&quot;3435-3589&quot;} -->
<h2 class="sectionedit7" id="especificacion_de_los_componentes">Especificación de los componentes</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> Amplificador Operacional: <a href="http://www.ti.com/lit/ds/symlink/lm158-n.pdf" class="urlextern" target="_blank" title="http://www.ti.com/lit/ds/symlink/lm158-n.pdf" rel="ugc nofollow noopener">LM158</a>.</div>
</li>
<li class="level1"><div class="li"> Transistor: <a href="http://www.nxp.com/documents/data_sheet/BC817_BC817W_BC337.pdf" class="urlextern" target="_blank" title="http://www.nxp.com/documents/data_sheet/BC817_BC817W_BC337.pdf" rel="ugc nofollow noopener">BC817-40</a>.</div>
</li>
<li class="level1"><div class="li"> Transistor: <a href="http://www.mouser.com/ds/2/302/PBSS5240X-256509.pdf" class="urlextern" target="_blank" title="http://www.mouser.com/ds/2/302/PBSS5240X-256509.pdf" rel="ugc nofollow noopener">PBSS5240X</a>.</div>
</li>
<li class="level1"><div class="li"> Diodo doble: <a href="http://www.nxp.com/documents/data_sheet/BAV199.pdf" class="urlextern" target="_blank" title="http://www.nxp.com/documents/data_sheet/BAV199.pdf" rel="ugc nofollow noopener">BAV199</a>.</div>
</li>
</ul>

</div>
<!-- EDIT{&quot;target&quot;:&quot;section&quot;,&quot;name&quot;:&quot;Especificaci\u00f3n de los componentes&quot;,&quot;hid&quot;:&quot;especificacion_de_los_componentes&quot;,&quot;codeblockOffset&quot;:0,&quot;secid&quot;:7,&quot;range&quot;:&quot;3590-&quot;} --></div>
</body>
</html>
